<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bai 1</title>
</head>
<body>
<script>
    // let n = +prompt("Nhập vào số phần tử của mảng");
    let arrayInteger = [-2,-4];
    let i, j;
    // for ( i = 0; i < n; i++){
    //     arrayInteger.push(+prompt("Thêm số nguyên mới vào mảng!"));
    // }
    function average() {
        let sum = 0;
        let count = 0;
        for (i = 0; i < arrayInteger.length; i++){
            if (i % 2 === 0){
                if (arrayInteger[i] % 2 !== 0){
                    sum+= arrayInteger[i];
                    count += 1;
                }
            }
        }
        return sum/count;
    }
    function findMaxValue() {
        let max = arrayInteger[0]
        for (i = 0; i < arrayInteger.length; i++){
            if (arrayInteger[i] > max){
                max = arrayInteger[i];
            }
        }
        return max;
    }
    function findIndexMinValue() {
        let arrayIndex = [];
        let minIndex = 0;
        let min = arrayInteger[0];
        for (i = 0; i < arrayInteger.length; i++){
            if (min > arrayInteger[i]){
                minIndex = i;
            }
        }
        arrayIndex.push(minIndex);
        for (i = 0; i < arrayInteger.length; i++){
            if (arrayInteger[minIndex] === arrayInteger[i] && minIndex !== i){
                arrayIndex.push(i);
            }
        }
        return arrayIndex.join(", ");
    }
    function findSquareNumber() {
        let arraySquareNumber = [];
        for (i = 0; i < arrayInteger.length; i++){
            if (Math.sqrt(arrayInteger[i]) - Math.ceil(Math.sqrt(arrayInteger[i])) === 0 ||
               Math.sqrt(arrayInteger[i]) % 1 === 0){
                arraySquareNumber.push(arrayInteger[i]);
            }
        }
        return arraySquareNumber.length + ", bao gồm: " + arraySquareNumber.join(", ");
    }
    function findPrime() {
        let count = 0;
        let arrayPrime = [];
        for (i = 0; i < arrayInteger.length; i++){
            count = 0;
            for (j = 1; j >= arrayInteger[i]; j--){
                if (arrayInteger[i] % j === 0 ){
                    count++;
                }
            }
            if (count === 2){
                arrayPrime.push(arrayInteger[i]);
            }
        }
        return arrayPrime.join(", ");
    }
    function replaceNegativeNumber() {
        let arrayReplace = [];
        for (i = 0; i < arrayInteger.length; i++){
            if (arrayInteger[i] < 0){
                arrayReplace[i] = 0;
            } else {
                arrayReplace[i] = arrayInteger[i];
            }
        }
        return arrayReplace.join(", ");
    }

    function deleteNegativeNumber(array) {
        for (i = 0; i < array.length; i++){
            if (array[i] < 0){
                array.splice(i,1);
            }
        }
        return array.join(", ");
    }

    function sortAscending(array) {
        for (i = 0; i < array.length; i++){
            for (j = 0; j < array.length; j++){
                if (array[i] < array[j]){
                    cont = array[i];
                    array[i] = array[j];
                    array[j] = cont;
                }
            }
        }
        return array;
    }
    document.write("Mảng ban đầu là: " + arrayInteger.join(", ") + "<br>");
    document.write("Trung bình cộng các số lẻ ở vị trí chẵn là: " + average() + "<br>");
    document.write("Số lớn nhất trong mảng vừa nhập là: " + findMaxValue() + "<br>");
    document.write("Vị trí các số nhỏ nhất trong mảng vừa nhập là: " + findIndexMinValue() + "<br>");
    document.write("Số các số chính phương có trong mảng là: " + findSquareNumber() + "<br>");
    document.write("Các số nguyên tố trong mảng là: " + findPrime() + "<br>");
    document.write("Mảng sau khi thay thế số âm thành số 0 là: " + replaceNegativeNumber() + "<br>");
    document.write("Mảng sau khi xóa các số âm là: " + deleteNegativeNumber(arrayInteger) + "<br>");
    document.write("Mảnh sau khi sắp xếp theo thứ tự tăng dần là: " + sortAscending(arrayInteger) + "<br>");
</script>
</body>
</html>